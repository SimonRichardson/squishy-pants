<!doctype html>
<html>
  <head>
    <title>State with squishy-pants.js</title>
    <meta charset="utf-8" />
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <script src="../bin/squishy-pants.js"></script>
    <script>
      function event(element, name, callback) {
          if(element.addEventListener) {
              element.addEventListener(name, callback, false);
          } else {
              element.attachEvent('on' + name, callback);
          }
      }

      function json() {
          return document.getElementById('json').innerHTML;
      }

      event(window, 'load', function() {
          var _ = squishy,
              log = _.IO(_.constant(function(x) {
                  document.getElementById('output').innerHTML += x + '<br />';
              })),
              logger = _.curry(function(prefix, value) {
                  log.ap(_.IO.of(prefix + ' > ' + value)).unsafePerform();
              });


          //logger('--', JSON.stringify(expr.parse(value)));
      });

    </script>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="span8 offset2">
          <h1>State using <a href="https://github.com/SimonRichardson/squishy-pants">squishy-pants.js</a></h1>
          <hr />
          <div class="alert">
              <pre>
              </pre>
          </div>
          <hr />
          <p>Becomes:</p>
          <div class="alert" id="output"></div>
          <div style="display:none">
              <pre id="json">
{
  "name": "squishy-pants",
  "description": "Semi serious functional programming library for JavaScript",
  "author": "Simon Richardson",
  "homepage": "https://github.com/SimonRichardson/squishy-pants",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/SimonRichardson/squishy-pants.git"
  },
  "scripts": {
    "test": "grunt macro"
  },
  "devDependencies": {
    "grunt-cli": "0.1.9",
    "grunt": "0.4.x",
    "grunt-rigger": "0.5.x",
    "grunt-contrib-concat": "0.3.0",
    "grunt-contrib-jshint": "0.6.x",
    "grunt-contrib-nodeunit": "0.2.0",
    "grunt-contrib-uglify": "0.2.2",
    "grunt-parallel": "~0.2.0",
    "shelljs": "0.2.3",
    "sweet.js": "0.2.0"
  },
  "main": "squishy-pants.js",
  "version": "0.0.5"
}
              </pre>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
