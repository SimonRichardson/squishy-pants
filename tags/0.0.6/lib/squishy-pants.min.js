!function(b){"use strict";function c(a,b,c){var d,e;for(d=0,e=b.length;e>d;d++)if(b[d].predicate.apply(this,c))return b[d].f;throw new Error("Method `"+a+"` not implemented for this input")}function d(a,b){return function(){var d=F(arguments);return c(a,b,d).apply(this,d)}}function e(a,b){var g,h=i(this,e);a=a||{},b=b||{},h.method=function(c,d,f){var g=k(a,j(c,(a[c]||[]).concat({predicate:d,f:f})));return e(g,b)},h.property=function(c,d){var f=k(b,j(c,d));return e(a,f)},h.isDefined=function(a){return h[a]&&f(h[a])===a},h.isDefinedAt=function(b){var d=!1,e=F(arguments).slice(1);try{d=!!c(b,a[b],e)}catch(f){}return d};for(g in a){if(h[g])throw new Error("Method `"+g+"` already in environment.");var l=d(g,a[g]);l._name=g,h[g]=l}for(g in b){if(h[g])throw new Error("Property `"+g+"` already in environment.");h[g]=b[g]}return h}function f(a){return a._name||a.name}function g(a){return a._length||a.length}function h(a){function b(){}return b.prototype=a,new b}function i(a,b){return a instanceof b?a:h(b.prototype)}function j(a,b){var c={};return c[a]=b,c}function k(a,b){var c=function(a,b){var c;for(c in b)a[c]=b[c];return a};return c(c({},a),b)}function l(a){function b(b){var c,d=[].slice.call(arguments,1);return c=a.bind?a.bind.apply(a,[b].concat(d)):function(){return a.apply(b,d.concat(F(arguments)))},c._name=f(a),c._length=Math.max(g(a)-d.length,0),c}return arguments.length>1?b.apply(this,[].slice.call(arguments,1)):b}function m(a){var b=function(){var b=l(a).apply(a,[this].concat(F(arguments)));return g(b)?m(b):b()};return b._name=f(a),b._length=g(a),b}function n(a,b){return function(){return a(b.apply(this,F(arguments)))}}function p(a){return a}function q(a){return function(){return a}}function r(a,b,c){return this.ap(this.map(b,a),c)}function s(a){var b=i(this,s);return b.type=a,b}function t(a){var b=i(this,t);return b.props=a,b}function u(a){return!a}function v(a){return function(){throw new Error(a)}}function w(a){return a[Math.floor(this.randomRange(0,a.length))]}function x(a,b){var c=b-a,d=function(b,e){return e-a>=c?b:(b[e]=e++,d(b,e))};return d([],a)}function y(a,b){return Math.random()*(b-a)+a}function z(a,b,c){var d=Math.floor(y(a,b));return c.indexOf(d)<0?d:z(a,b,c)}function A(a){return a+1}function B(a){return a-1}function C(a,b){return a[b]||a.constructor[b]||a.prototype&&a.prototype[b]}function D(a){return C(a,"of")||C(a.constructor,"of")}function E(a){return C(a,"empty")||C(a.constructor,"empty")}function F(a){return[].slice.call(a)}function G(a){return m(function(b,c){var d=F(arguments).slice(2);return a.apply(null,[c,b].concat(d))})}function H(a,b){return Db.map(b,function(b){return a[b]})}function I(a){return function(){return a?a.apply(null,F(arguments)):null}}function J(){}function K(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)}function L(a){return null===a}function M(a){return"number"==typeof a?0!==0*a:!0}function N(a){return!M(a)}function O(a){return 0===(1&a)}function P(a){return!O(a)}function Q(a){var b=a.length;return 2>b?!0:a.charAt(0)!==a.charAt(b-1)?!1:Q(a.substr(1,b-2))}function R(a){if(!Ub(a))return!1;try{if(a.constructor&&!dc.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0}function S(a,b,c){return a.map(b,function(b){return a.arb(b,c)})}function T(a,b,c){var d,e,f,g=a.map(c,a.shrink),h=[].concat(c);for(e=0;e<g.length;e++)for(d=[].concat(h),f=0;f<g[e].length&&(d[e]=g[e][f],!b.apply(this,d));f++)h[e]=g[e][f];return h}function U(a,b){var c=i(this,U);return c.inputs=a,c.tries=b,c}function V(a,b){var c,d;for(d=0;d<this.goal;d++)if(c=S(this,b,d),!a.apply(this,c))return _c.Some(U(T(this,a,c),d+1));return _c.None}function W(a,b){function c(){var f,g=i(this,c),h=b.length,j=[].slice.call(arguments);if(j.length!=h)throw new TypeError("Expected "+b.length+" arguments, got "+j.length+" for "+a);for(f=0;h>f;f++)g[b[f]]=j[f];return g.toString=d(j),g.toArray||(g.toArray=e(j)),g}function d(b){return function(){var c=Db.map(b,function(a){return a.toString?a.toString():""+a}),d=Db.reduce(c,function(a,b){return a+", "+b});return a+(c.length>0?"("+d+")":"")}}function e(a){return function(){var b=Db.map(a,function(a){return a.toArray?a.toArray():a}),c=Db.fold(b,[],function(a,b){return Db.concat(a,b)});return c}}if(!K(b))throw new TypeError("Expected Array but got `"+typeof b+"`");return c._name=a,c._length=b.length,c}function X(a,b){function c(){throw new TypeError("Tagged sum was called instead of one of its properties.")}function d(a){return function(c){var d=b[a],e=c[a],f=Db.select(this,d);if(!e)throw new TypeError("Constructors given to match didn't include: "+a);return e.apply(this,f)}}function e(a,b){var e=h(c.prototype);return e.match=d(a),e._name=a,e._tagged=c,e._constructors=b,e.toString=q(a),e}var f;for(f in b)b[f].length?(c[f]=W(f,b[f]),c[f].prototype=e(f,b)):(c[f]=e(f,c),c[f].toArray=q([]));return c._name=a,c}function Y(){var a=Db,b=Jc;arguments.length&&a.error("Expecting no arguments given to fo. Use fo()(arguments)")(),Jc=[];var c=m(function(b,c,d){return a[b](c,d)});return function(d){var e,f;return Jc.length?(d===!1?e=c("chain"):0===d?e=Fb:d===Math.pow(2,(2<<Jc.length)-3)?e=c("compose"):d===Math.pow(2,Jc.length*(Jc.length+1)/2)?e=c("ap"):d===(2<<Jc.length)-2?e=c("concat"):2===d?e=c("map"):0>d?e=Hb:d===!0?e=Gb:(Jc=b,a.error("Couldn't determine operation. Has fo.unsafeSetValueOf been called for all operands?")()),f=a.reduce(Jc,function(a,b){var c=Lc(a)?a.extract():a,d=Lc(b)?b.extract():b;return e(c).call(c,d)}),Jc=b,f):(Jc=b,d)}}function Z(a){var b=i(this,Z);return b.type=a,b}function $(a){var b=i(this,$);return b.type=a,b}function _(a){var b=i(this,_);return b.type=a,b}function ab(a){var b=i(this,ab);return b.type=a,b}function bb(a){var b=i(this,bb);return b.type=a,b}function cb(a){var b=i(this,cb);return b.type=a,b}function db(a){var b=i(this,db);return b.type=a,b}function eb(){var a=i(this,eb);return a}function fb(a){var b=i(this,fb);return b.type=a,b}function gb(){var a=i(this,gb);return a.types=F(arguments),a}function hb(){var a=i(this,hb);return a.types=F(arguments),a}function ib(){var a=i(this,ib);return a.types=F(arguments),a}function jb(){var a=i(this,jb);return a.types=F(arguments),a}function kb(a){var b=i(this,kb);return b.type=a,b}function lb(a){var b=i(this,lb);return b.type=a,b}function mb(a){var b=i(this,mb);return b.isDone=!0,b.result=a,b}function nb(a){var b=i(this,nb);return b.isDone=!1,b.thunk=a,b}function ob(a){for(;!a.isDone;)a=a.thunk();return a.result}function pb(a){var b=i(this,pb);return b.type=a,b}function qb(a){var b=i(this,qb);return b.type=a,b}function rb(a){var b=i(this,rb);return b.type=a,b}function sb(a){var b=i(this,sb);return b.type=a,b}function tb(a){var b=i(this,tb);return b.type=a,b}function ub(a){var b=i(this,ub);return b.type=a,b}function vb(a){var b=i(this,vb);return b.type=a,b}function wb(a){var b=i(this,wb);return b.type=a,b}function xb(a){var b=i(this,xb);return b.type=a,b}function yb(a){var b=i(this,yb);return b.type=a,b}function zb(a){var b=i(this,zb);return b.type=a,b}function Ab(a){var b=i(this,Ab);return b.type=a,b}function Bb(a){var b=F(arguments).slice(1),c={},d=c;return function(){return d===c&&(d=a.apply(null,b)),d}}function Cb(a){var b,c=F(arguments).slice(1),d=[],e=function(a){b=a},f=function(a){for(var b=d.length;--b>-1;)I(d.pop()).apply(null,a)},g=Bb(function(){a.apply(null,[function(){var a=F(arguments);e(a),f(a)},c])});return function(a){g(),b?a.apply(null,b):d.push(a)}}var Db;Db=e(),Db=Db.property("environment",e);var Eb=m(function(a,b){return b[a]}),Fb=m(function(a,b){return n(b,a)}),Gb=m(function(a,b){return Db.chain(a,function(){return b})}),Hb=m(function(a,b){return Db.concat(a,Db.negate(b))}),Ib=m(function(a,b){return a.apply(null,b)}),Jb=m(function(a,b){return a||b}),Kb=m(function(a,b){return!(!a||!b)}),Lb=m(function(a,b){return a+b}),Mb=m(function(a,b){return a*b}),Nb=m(function(a,b){return a===b}),Ob=m(function(a,b){return b in a}),Pb=m(function(a,b){return this.map(x(0,a),b)});Db=Db.property("functionName",f).property("functionLength",g).property("create",h).property("getInstance",i).property("singleton",j).property("extend",k).property("bind",l).property("curry",m).property("compose",n).property("identity",p).property("constant",q).property("access",Eb).property("andThen",Fb).property("sequence",Gb).property("minus",Hb).property("then",Ib).property("liftA2",r).property("arrayOf",s).property("objectLike",t).property("or",Jb).property("and",Kb).property("add",Lb).property("times",Mb).property("strictEquals",Nb).property("has",Ob).property("not",u).property("error",v).property("oneOf",w).property("fill",Pb).property("range",x).property("randomRange",y).property("randomIntRangeWithout",z).property("inc",A).property("dec",B).property("point",D).property("zero",E).property("rest",F).property("flip",G).property("select",H);var Qb=m(function(a,b){return typeof b===a}),Rb=Qb("boolean"),Sb=Qb("function"),Tb=Qb("number"),Ub=Qb("object"),Vb=Qb("string"),Wb=m(function(a,b){return K(a)&&K(b)?!0:Qb(a)===Qb(b)}),Xb=m(function(a,b){return b instanceof a}),Yb=Xb(s),Zb=Xb(t),$b=m(function(a,b){var c;for(c=0;c<a.length;c++)if(Nb(a[c])(b))return!0;return!1}),_b=m(function(a,b){var c;for(c=0;c<a.length;c++)if(Qb(a[c])(b))return!0;return!1}),ac=m(function(a,b){var c;for(c=0;c<a.length;c++)if(Xb(a[c])(b))return!0;return!1}),bc=function(a){return Xb(e,a)},cc=G(Ob)("equal"),dc={};Db=Db.method("isEmpty",Rb,u).method("isEmpty",Sb,u).method("isEmpty",Tb,function(a){return M(a)||1>a}).method("isEmpty",Vb,function(a){return!/\S/.test(a)}).method("isEmpty",K,function(a){return a.length<1}).method("isEmpty",Ub,function(){var a,b;for(a in o)b++;return 1>b}).method("isEmpty",Nb(null),q(!1)).method("isEmpty",Nb(void 0),q(!1)),Db=Db.property("isTypeOf",Qb).property("isBoolean",Rb).property("isFunction",Sb).property("isNumber",Tb).property("isObject",Ub).property("isString",Vb).property("isArray",K).property("isSameTypeOf",Wb).property("isNaN",M).property("isNotNaN",N).property("isEven",O).property("isOdd",P).property("isPalindrome",Q).property("isInstanceOf",Xb).property("isArrayOf",Yb).property("isObjectLike",Zb).property("isAnyOf",$b).property("isAnyTypeOf",_b).property("isAnyInstanceOf",ac).property("isEnvironment",bc).property("isComparable",cc).property("isPlainObject",R);var ec=30,fc={},gc={},hc={},ic={},jc={};Db=Db.property("generateInputs",S).property("failureReporter",U).property("forAll",V).property("goal",ec).property("AnyVal",fc).property("OptionalVal",gc).property("Char",hc).property("Integer",ic).property("Rand",jc),Db=Db.method("arb",Nb(fc),function(a,b){var c=[Boolean,Number,String];return this.arb(this.oneOf(c),b-1)}).method("arb",Nb(Array),function(a,b){return this.arb(s(fc),b-1)}).method("arb",Nb(Boolean),function(){return Math.random()<.5}).method("arb",Nb(hc),function(){return String.fromCharCode(Math.floor(this.randomRange(32,255)))}).method("arb",Nb(ic),function(){var a=Math.pow(2,32)-1;return Math.floor(this.randomRange(-a,a))}).method("arb",Nb(jc),function(a,b){return Math.random()*b-1}).method("arb",Nb(Function),function(){return J}).method("arb",Yb,function(a,b){var c,d=[],e=this.randomRange(0,b);for(c=0;e>c;c++)d.push(this.arb(a.type,b-1));return d}).method("arb",Zb,function(a,b){var c,d=Nb(gc),e={};for(c in a.props){var f=d(a.props[c]);(!f||f&&this.randomRange(0,1)<=.5)&&(e[c]=this.arb(f?fc:a.props[c],b))}return e}).method("arb",Nb(Number),function(){var a=Math.pow(2,53)/this.goal;return this.randomRange(-a,a)}).method("arb",Nb(Object),function(a,b){var c,d={},e=this.randomRange(0,b);for(c=0;e>c;c++)d[this.arb(String,b-1)]=this.arb(fc,b-1);return d}).method("arb",Nb(String),function(a,b){return this.arb(s(hc),b-1).join("")}),Db=Db.method("shrink",K,function(a){for(var b=[[]],c=a.length;c;)c=Math.floor(c/2),c&&b.push(a.slice(a.length=c));return b}).method("shrink",Rb,function(a){return a?[!1]:[]}).method("shrink",Tb,function(a){var b=[0],c=a;for(0>a&&b.push(-a);c;)c/=2,c=0>c?Math.ceil(c):Math.floor(c),c&&b.push(a-c);return b}).method("shrink",Vb,function(a){for(var b=[""],c=a.length;c;)c=Math.floor(c/2),c&&b.push(a.substring(0,a.length-c));return b}).method("shrink",R,function(){return[]}),Db=Db.method("map",Sb,m(function(a,b){return n(b,a)})).method("concat",Sb,m(function(a,b){return a().concat(b())})).method("ap",Sb,m(function(a,b){return function(c){return a(c)(b(c))}})),Db=Db.method("dimap",Sb,function(a,b){return function(c){return n(n(b,c),a)}}).method("kleisli",Sb,function(a,b){var c=this;return function(d){return c.chain(a(d),b)}}),Db=Db.method("concat",Rb,m(function(a,b){return a&b})).method("concat",Db.liftA2(Jb,Tb,Vb),m(function(a,b){return a+b})).method("map",Rb,m(function(a,b){return b(a)})).method("map",Db.liftA2(Jb,Tb,Vb),m(function(a,b){return b(a)})).method("negate",Rb,function(a){return!a}).method("negate",Tb,function(a){return-a}),Db=Db.method("equal",L,Nb).method("equal",Rb,Nb).method("equal",Sb,Nb).method("equal",Tb,Nb).method("equal",Vb,Nb).method("equal",K,function(a,b){var c=this;return Kb(a,b)&&K(b)&&Nb(a.length,b.length)?c.fold(c.zip(a,b),!0,function(a,b){return a&&c.equal(b._1,b._2)}):!1}).method("equal",Nb(void 0),Nb).method("equal",Db.liftA2(Kb,Ub,Fb(cc,u)),function(a,b){var c;if(Kb(a,b)&&Ub(b)){for(c in a)if(!Db.equal(a[c],b[c]))return!1;for(c in b)if(!Db.equal(b[c],a[c]))return!1;return!0}return!1}).property("expect",function(a){var b=this;return j("toBe",function(c){return b.equal(c,a)})}),Db=Db.method("of",Nb(fc),function(){var a=[Boolean,Number,String];return this.of(this.oneOf(a))}).method("of",Nb(Array),p).method("of",Nb(Boolean),p).method("of",Nb(Function),p).method("of",Nb(Number),p).method("of",Nb(Object),p).method("of",Nb(String),p),Db=Db.method("empty",Nb(fc),function(){var a=[Boolean,Number,String];return this.empty(this.oneOf(a))}).method("empty",Nb(Array),function(){return[]}).method("empty",Nb(Boolean),function(){return!1}).method("empty",Nb(Function),function(){return function(){}}).method("empty",Nb(Number),function(){return 0}).method("empty",Nb(Object),function(){return{}}).method("empty",Nb(String),function(){return""}),Db=Db.property("tagged",W).property("taggedSum",X);var kc=m(function(a,b){var c,d,e=[],f=a.length,g=b.length;for(c=0;f>c;c++)for(d=0;g>d;d++)e.push(a[c](b[d]));return e}),lc=m(function(a,b){var c,d,e=[];for(d=0,c=a.length;c>d;d++)e=e.concat(b(a[d]));return e}),mc=m(function(a,b){return a.concat(b)}),nc=m(function(a,b){var c,d,e=0;for(d=0,c=a.length;c>d;d++)b(a[d])&&(e=A(e));return e}),oc=m(function(a,b){return a.slice(b)}),pc=m(function(a,b){return a.slice(0,-b)}),qc=m(function(a,b){var c,d;for(d=0,c=a.length;c>d;d++)if(!b(a[d]))return a.slice(d);return a.slice()}),rc=m(function(a,b){var c,d;for(d=0,c=a.length;c>d;d++)if(b(a[d]))return!0;return!1}),sc=m(function(a){return lc(a,function(a){return K(a)?a:[a]})}),tc=m(function(a,b){var c,d,e=[];for(d=0,c=a.length;c>d;d++)b(a[d])&&e.push(a[d]);return e}),uc=m(function(a,b){var c,d;for(d=0,c=a.length;c>d;d++)if(b(a[d]))return a[d];return null}),vc=function(a){return a[0]},wc=m(function(a,b,c){var d,e;for(e=0,d=a.length;d>e;e++)b=c(b,a[e]);return b}),xc=m(function(a,b,c){var d;for(d=a.length-1;d>=0;--d)b=c(b,a[d]);return b}),yc=function(a){return a[a.length-1]},zc=m(function(a,b){var c,d,e=[];for(d=0,c=a.length;c>d;d++)e[d]=b(a[d]);return e}),Ac=m(function(a,b){var c,d,e=[],f=[];for(d=0,c=a.length;c>d;d++)b(a[d])?e.push(a[d]):f.push(a[d]);return gd(e,f)}),Bc=m(function(a,b){var c,d,e=a[0]||null;for(d=1,c=a.length;c>d;d++)e=b(e,a[d]);return e}),Cc=m(function(a,b){var c,d=a.length,e=a[d-1]||null;for(c=d-2;c>=0;--c)e=b(e,a[c]);return e}),Dc=function(a){return a.slice(1)},Ec=m(function(a,b){return a.slice(0,b)}),Fc=m(function(a,b){return a.slice(-b)}),Gc=m(function(a,b){var c,d;for(d=0,c=a.length;c>d;d++)if(!b(a[d]))return a.slice(0,d);return[]}),Hc=m(function(a,b){var c,d=[],e=Math.min(a.length,b.length);for(c=0;e>c;c++)d[c]=gd(a[c],b[c]);return d}),Ic=m(function(a){var b,c=[],d=a.length;for(b=0;d>b;b++)c[b]=gd(a[b],b);return c});Db=Db.method("ap",K,kc).method("chain",K,lc).method("concat",K,mc).method("count",K,nc).method("drop",K,oc).method("dropRight",K,pc).method("dropWhile",K,qc).method("exists",K,rc).method("flatten",K,sc).method("filter",K,tc).method("find",K,uc).method("first",K,vc).method("fold",K,wc).method("foldRight",K,xc).method("last",K,yc).method("map",K,zc).method("partition",K,Ac).method("reduce",K,Bc).method("reduceRight",K,Cc).method("tail",K,Dc).method("take",K,Ec).method("takeRight",K,Fc).method("takeWhile",K,Gc).method("zip",K,Hc).method("zipWithIndex",K,Ic);var Jc;Y.unsafeSetValueOf=function(a){var b=a.valueOf;a.valueOf=function(){return void 0===Jc?b.call(this):(Jc.push(this),1<<Jc.length)}};var Kc=W("Box",["value"]);Kc.prototype.extract=function(){return this.value};var Lc=Xb(Kc);Y.unsafeSetValueOf(Kc.prototype),Db=Db.property("fo",Y).property("Box",Kc);var Mc=function(a){return function(b){return a.of=function(c){return a(D(b)(c))},a.empty=function(){return a(empty(b)())},a.lift=a,Sb(C(b,"ap"))&&(a.prototype.ap=function(a){return this.chain(function(b){return Db.map(a,b)})}),Sb(C(b,"chain"))&&(a.prototype.chain=function(b){return a(this.run.chain(function(a){return b(a).run}))}),Sb(C(b,"equal"))&&(a.prototype.equal=function(a){return Db.equal(this.run,a.run)}),Sb(C(b,"map"))&&(a.prototype.map=function(b){return this.chain(function(c){return a.of(b(c))})}),a}};Db=Db.property("transformer",Mc);var Nc=X("Attempt",{Success:["value"],Failure:["errors"]});Nc.prototype.ap=function(a){var b=this;return b.match({Success:function(b){return Db.map(a,b)},Failure:function(c){return a.match({Success:q(b),Failure:function(a){return Nc.Failure(Db.concat(c,a))}})}})},Nc.prototype.chain=function(a){var b=this;return b.match({Success:a,Failure:q(b)})},Nc.prototype.equal=function(a){return this.match({Success:function(b){return a.match({Success:function(a){return Db.equal(b,a)},Failure:q(!1)})},Failure:function(b){return a.match({Success:q(!1),Failure:function(a){return Db.equal(b,a)}})}})},Nc.prototype.extract=function(){return this.match({Success:p,Failure:p})},Nc.prototype.fold=function(a,b){return this.match({Success:a,Failure:b})},Nc.prototype.map=function(a){return this.match({Success:function(b){return Nc.Success(a(b))},Failure:function(a){return Nc.Failure(a)}})},Nc.prototype.swap=function(){return this.match({Success:Nc.Failure,Failure:Nc.Success})},Nc.prototype.toOption=function(){return this.match({Success:_c.Some,Failure:function(){return _c.None}})},Nc.prototype.toLeft=function(){return this.match({Success:Uc.Left,Failure:Uc.Right})},Nc.prototype.toRight=function(){return this.match({Success:Uc.Left,Failure:Uc.Right})},Nc.Failure.prototype.toArray=function(){return[]},Nc.prototype.toStream=function(){return this.match({Success:Bd.of,Failure:Bd.empty})},Nc.Success.prototype.isSuccess=!0,Nc.Success.prototype.isFailure=!1,Nc.Failure.prototype.isSuccess=!1,Nc.Failure.prototype.isFailure=!0,Nc.of=function(a){return Nc.Success(a)},Nc.empty=function(){return Nc.Failure()};var Oc=Xb(Nc),Pc=W("AttemptT",["run"]);Nc.AttemptT=Mc(Pc);var Qc=Xb(Pc),Rc=Xb(Z),Sc=Xb($),Tc=Xb(_);Y.unsafeSetValueOf(Nc.prototype),Nc.lens=function(){return Pd(function(a){return Td(function(b){return a.match({Success:function(){return Nc.of(b)},Failure:function(){return Nc.Failure(b)}})},function(){return a.match({Success:p,Failure:p})})})},Db=Db.property("Attempt",Nc).property("AttemptT",Nc.AttemptT).property("Success",Nc.Success).property("Failure",Nc.Failure).property("successOf",Z).property("failureOf",$).property("attemptTOf",_).property("isAttempt",Oc).property("isSuccessOf",Rc).property("isFailureOf",Sc).property("isAttemptT",Qc).property("isAttemptTOf",Tc).method("of",Nb(Nc),function(a){return Nc.of(a)}).method("empty",Nb(Nc),function(){return Nc.empty()}).method("arb",Rc,function(a,b){return Nc.Success(this.arb(a.type,b-1))}).method("arb",Sc,function(a,b){return Nc.Failure(this.arb(a.type,b-1))}).method("arb",Tc,function(a,b){return Nc.AttemptT(this.arb(Z(a.type),b-1))}).method("extract",Oc,function(a){return a.extract()}).method("fold",Oc,function(a,b,c){return a.fold(b,c)}).method("toArray",Oc,function(a){return a.toArray()}).method("toStream",Oc,function(a){return a.toStream()}).method("ap",Db.liftA2(Jb,Oc,Qc),function(a,b){return a.ap(b)}).method("chain",Db.liftA2(Jb,Oc,Qc),function(a,b){return a.chain(b)}).method("equal",Db.liftA2(Jb,Oc,Qc),function(a,b){return a.equal(b)}).method("map",Db.liftA2(Jb,Oc,Qc),function(a,b){return a.map(b)}).method("shrink",Db.liftA2(Jb,Oc,Qc),function(){return[]});var Uc=X("Either",{Left:["value"],Right:["value"]});Uc.prototype.ap=function(a){var b=this;return b.match({Left:q(b),Right:function(b){return Db.map(a,b)}})},Uc.prototype.chain=function(a){var b=this;return b.match({Left:q(b),Right:a})},Uc.prototype.concat=function(a,b){var c=this;return c.match({Left:function(){return Db.fold(a,q(c),q(a))},Right:function(c){return Db.map(a,function(a){return b(a,c)})}})},Uc.prototype.equal=function(a){return this.match({Left:function(b){return a.match({Left:function(a){return Db.equal(b,a)},Right:q(!1)})},Right:function(b){return a.match({Left:q(!1),Right:function(a){return Db.equal(b,a)}})}})},Uc.prototype.extract=function(){return this.match({Left:p,Right:p})},Uc.prototype.fold=function(a,b){return this.match({Left:a,Right:b})},Uc.prototype.map=function(a){var b=this;return b.match({Left:q(b),Right:function(b){return Uc.Right(a(b))}})},Uc.prototype.swap=function(){return this.match({Left:function(a){return Uc.Right(a)},Right:function(a){return Uc.Left(a)}})},Uc.prototype.toOption=function(){return this.match({Left:function(){return _c.None},Right:_c.Some})},Uc.prototype.toAttempt=function(){return this.match({Left:Nc.Failure,Right:Nc.Success})},Uc.Left.prototype.toArray=function(){return[]},Nc.prototype.toStream=function(){return this.match({Left:Bd.empty,Right:Bd.of})},Uc.Left.prototype.isLeft=!0,Uc.Left.prototype.isRight=!1,Uc.Right.prototype.isLeft=!1,Uc.Right.prototype.isRight=!0,Uc.of=function(a){return Uc.Right(a)},Uc.Right.empty=function(){return Uc.Left()};var Vc=Xb(Uc),Wc=W("EitherT",["run"]);Uc.EitherT=Mc(Wc);var Xc=Xb(Wc),Yc=Xb(ab),Zc=Xb(bb);Y.unsafeSetValueOf(Uc.prototype);var $c=Xb(cb);Uc.lens=function(){return Pd(function(a){return Td(function(b){return a.match({Left:function(){return Uc.Left(b)},Right:function(){return Uc.Right(b)}})},function(){return a.match({Left:p,Right:p})})})},Db=Db.property("Either",Uc).property("EitherT",Wc).property("Left",Uc.Left).property("Right",Uc.Right).property("leftOf",ab).property("rightOf",bb).property("eitherTOf",cb).property("isEither",Vc).property("isEitherT",Xc).property("isLeftOf",Yc).property("isRightOf",Zc).property("isEitherTOf",$c).method("of",Nb(Uc),function(a){return Uc.of(a)}).method("empty",Nb(Uc),function(){return Uc.Left.empty()}).method("arb",Yc,function(a,b){return Uc.Left(this.arb(a.type,b-1))}).method("arb",Zc,function(a,b){return Uc.Right(this.arb(a.type,b-1))}).method("arb",$c,function(a,b){return Uc.EitherT(Uc.of(this.arb(a.type,b-1)))}).method("concat",Vc,function(a,b){return a.concat(b,this.concat)}).method("extract",Vc,function(a){return a.extract()}).method("fold",Vc,function(a,b,c){return a.fold(b,c)}).method("toArray",Vc,function(a){return a.toArray()}).method("toStream",Oc,function(a){return a.toStream()}).method("ap",Db.liftA2(Jb,Vc,Xc),function(a,b){return a.ap(b)}).method("chain",Db.liftA2(Jb,Vc,Xc),function(a,b){return a.chain(b)}).method("equal",Db.liftA2(Jb,Vc,Xc),function(a,b){return a.equal(b)}).method("map",Db.liftA2(Jb,Vc,Xc),function(a,b){return a.map(b)}).method("shrink",Db.liftA2(Jb,Vc,Xc),function(){return[]});var _c=X("Option",{Some:["value"],None:[]});_c.toOption=function(a){return null!==a?_c.Some(a):_c.None},_c.prototype.ap=function(a){return this.chain(function(b){return Db.map(a,b)})},_c.prototype.chain=function(a){return this.match({Some:a,None:q(this)})},_c.prototype.concat=function(a){return this.match({Some:function(b){return Db.map(a,function(a){return Db.concat(b,a)})},None:q(this)})},_c.prototype.equal=function(a){return this.match({Some:function(b){return a.match({Some:function(a){return Db.equal(b,a)},None:q(!1)})},None:function(){return a.match({Some:q(!1),None:q(!0)})}})},_c.prototype.extract=function(){return this.match({Some:p,None:q(null)})},_c.prototype.fold=function(a,b){return this.match({Some:a,None:b})},_c.prototype.get=function(){return this.match({Some:p,None:v("Unexpected value")})},_c.prototype.getOrElse=function(a){return this.match({Some:p,None:q(a)})},_c.prototype.map=function(a){return this.chain(function(b){return _c.of(a(b))})},_c.prototype.toAttempt=function(){return this.match({Some:Nc.Success,None:function(){return Nc.Failure(Db.empty(Array))}})},_c.prototype.toLeft=function(a){return this.match({Some:Uc.Left,None:function(){return Uc.Right(a)}})},_c.prototype.toRight=function(a){return this.match({Some:Uc.Right,None:function(){return Uc.Left(a)}})},_c.of=function(a){return _c.Some(a)},_c.empty=function(){return _c.None},_c.Some.prototype.isSome=!0,_c.Some.prototype.isNone=!1,_c.None.isSome=!1,_c.None.isNone=!0;var ad=Xb(_c),bd=W("OptionT",["run"]);_c.OptionT=Mc(bd);var cd=Xb(bd),dd=Xb(db),ed=Xb(eb),fd=Xb(fb);Y.unsafeSetValueOf(_c.prototype),_c.lens=function(){return Pd(function(a){return Td(function(b){return a.match({Some:function(){return _c.Some(b)},None:q(_c.None)})},function(){return a.match({Some:p,None:p})})})},Db=Db.property("Option",_c).property("OptionT",bd).property("Some",_c.Some).property("None",_c.None).property("someOf",db).property("noneOf",eb).property("optionTOf",fb).property("isOption",ad).property("isOptionT",cd).property("isSomeOf",dd).property("isNoneOf",ed).property("isOptionTOf",fd).property("toOption",_c.toOption).method("of",Nb(_c.Some),function(a){return _c.Some.of(a)}).method("empty",Nb(_c.Some),function(){return _c.None}).method("arb",dd,function(a,b){return _c.Some(this.arb(a.type,b-1))}).method("arb",ed,function(){return _c.None}).method("arb",fd,function(a,b){return _c.OptionT(this.arb(db(a.type),b-1))}).method("concat",ad,function(a,b){return a.concat(b)}).method("extract",ad,function(a){return a.extract()}).method("fold",ad,function(a,b,c){return a.fold(b,c)}).method("toArray",ad,function(a){return a.toArray()}).method("ap",Db.liftA2(Jb,ad,cd),function(a,b){return a.ap(b)}).method("chain",Db.liftA2(Jb,ad,cd),function(a,b){return a.chain(b)}).method("equal",Db.liftA2(Jb,ad,cd),function(a,b){return a.equal(b)}).method("map",Db.liftA2(Jb,ad,cd),function(a,b){return a.map(b)}).method("shrink",Db.liftA2(Jb,ad,cd),function(){return[]});var gd=W("Tuple2",["_1","_2"]),hd=W("Tuple3",["_1","_2","_3"]),id=W("Tuple4",["_1","_2","_3","_4"]),jd=W("Tuple5",["_1","_2","_3","_4","_5"]);gd.of=function(a,b){return gd(a,b)},gd.first=function(a){return a._1},gd.second=function(a){return a._2},gd.prototype.flip=function(){return gd.of(this._2,this._1)},gd.prototype.concat=function(a){return gd.of(Db.concat(this._1,a._1),Db.concat(this._2,a._2))},gd.prototype.equal=function(a){return Db.equal(this.toArray(),a.toArray())},gd.prototype.chain=function(a){return a(this)},hd.of=function(a,b,c){return hd(a,b,c)},hd.prototype.concat=function(a){return hd.of(Db.concat(this._1,a._1),Db.concat(this._2,a._2),Db.concat(this._3,a._3))},hd.prototype.equal=function(a){return Db.equal(this.toArray(),a.toArray())},hd.prototype.chain=function(a){return a(this)},id.of=function(a,b,c,d){return id(a,b,c,d)},id.prototype.concat=function(a){return id.of(Db.concat(this._1,a._1),Db.concat(this._2,a._2),Db.concat(this._3,a._3),Db.concat(this._4,a._4))},id.prototype.equal=function(a){return Db.equal(this.toArray(),a.toArray())},id.prototype.chain=function(a){return a(this)},jd.of=function(a,b,c,d,e){return jd(a,b,c,d,e)},jd.prototype.concat=function(a){return jd.of(Db.concat(this._1,a._1),Db.concat(this._2,a._2),Db.concat(this._3,a._3),Db.concat(this._4,a._4),Db.concat(this._5,a._5))},jd.prototype.equal=function(a){return Db.equal(this.toArray(),a.toArray())},jd.prototype.chain=function(a){return a(this)};var kd=Xb(gd),ld=Xb(hd),md=Xb(id),nd=Xb(jd),od=function(a){return kd(a)||ld(a)||md(a)||nd(a)},pd=m(function(a,b){return function(c,d){var e=this;return a.of.apply(this,e.map(e.fill(b)(function(a){return c.types[a]}),function(a){return e.arb(a,d)}))}}),qd=Xb(gb),rd=Xb(hb),sd=Xb(ib),td=Xb(jb),ud=m(function(a,b){return Pd(function(c){return Td(function(d){var e=c.toArray();return e[b]=d,a.of.apply(null,e)},function(){return c.toArray()[b]})})});gd.lens=ud(gd),hd.lens=ud(hd),id.lens=ud(id),jd.lens=ud(jd),Db=Db.property("Tuple2",gd).property("Tuple3",hd).property("Tuple4",id).property("Tuple5",jd).property("tuple2Of",gb).property("tuple3Of",hb).property("tuple4Of",ib).property("tuple5Of",jb).property("isTuple2",kd).property("isTuple3",ld).property("isTuple4",md).property("isTuple5",nd).property("isTuple2Of",qd).property("isTuple3Of",rd).property("isTuple4Of",sd).property("isTuple5Of",td).method("arb",qd,pd(gd,2)).method("arb",rd,pd(hd,3)).method("arb",sd,pd(id,4)).method("arb",td,pd(jd,5)).method("shrink",od,function(){return[]}).method("concat",od,function(a,b){return a.concat(b)}).method("equal",od,function(a,b){return a.equal(b)}).method("chain",od,function(a,b){return a.chain(b)}).method("toArray",od,function(a){return a.toArray()});var vd=W("Promise",["fork"]);vd.of=function(a){return vd(function(b){return b(a)})},vd.empty=function(){return vd.of()},vd.error=function(a){return vd(function(b,c){return c(a)})},vd.prototype.chain=function(a){var b=this;return vd(function(c,d){return b.fork(function(b){return a(b).fork(c,d)},d)})},vd.prototype.expand=function(a){var b=this;return b.map(function(b){return a(vd.of(b))})},vd.prototype.extract=function(){return this.fork(p,p)},vd.prototype.map=function(a){var b=this;return vd(function(c,d){return b.fork(function(b){return c(a(b))},d)})},vd.prototype.reject=function(a){var b=this;return vd(function(c,d){return b.fork(c,function(b){return a(b).fork(c,d)})})};var wd=Xb(vd),xd=W("PromiseT",["run"]);vd.PromiseT=Mc(xd),xd.prototype.fork=function(a,b){return this.run.fork(a,b)};var yd=Xb(xd),zd=Xb(kb),Ad=Xb(lb);Y.unsafeSetValueOf(vd.prototype),vd.lens=function(){return Pd(function(a){return Td(function(a){return vd(a)},function(){return a.fork})})},Db=Db.property("Promise",vd).property("PromiseT",xd).property("promiseOf",kb).property("promiseTOf",lb).property("isPromise",wd).property("isPromiseOf",zd).property("isPromiseTOf",Ad).method("of",Nb(vd),function(a){return vd.of(a)}).method("empty",Nb(vd),function(){return vd.empty()}).method("arb",zd,function(a,b){return vd.of(this.arb(a.type,b-1))}).method("arb",Ad,function(a,b){return vd.PromiseT(this.arb(kb(a.type),b-1))}).method("expand",wd,function(a,b){return a.expand(b)}).method("extract",wd,function(a){return a.extract()}).method("chain",Db.liftA2(Jb,wd,yd),function(a,b){return a.chain(b)}).method("map",Db.liftA2(Jb,wd,yd),function(a,b){return a.map(b)}).method("shrink",Db.liftA2(Jb,wd,yd),function(){return[]}),Db=Db.property("done",mb).property("cont",nb).property("trampoline",ob);var Bd=W("Stream",["fork"]);Bd.of=function(a){return Bd(function(b,c){return Db.toOption(a).fold(b,J),c()})},Bd.empty=function(){return Bd.of()},Bd.prototype.ap=function(a){return this.chain(function(b){return a.map(b)})},Bd.prototype.both=function(a,b){var c=this,d=gd.lens(0),e=gd.lens(1);return Bd(function(f,g){var h=Bb(function(){return Bb(g)});c.fork(function(a){b=d.run(b).set(a),f(b)},h),a.fork(function(a){b=e.run(b).set(a),f(b)},h)})},Bd.prototype.chain=function(a){var b=this;return Bd(function(c,d){return b.fork(function(b){return a(b).fork(c,J)},d)})},Bd.prototype.concat=function(a){var b=this;return Bd(function(c,d){return b.fork(c,function(){return a.fork(c,d)})})},Bd.prototype.drop=function(a){var b=0;return this.chain(function(c){return a>b?(b++,Bd.empty()):Bd.of(c)})},Bd.prototype.equal=function(a){return this.zip(a).fold(!0,function(a,b){return a&&Db.equal(b._1,b._2)})},Bd.prototype.extract=function(){return this.fork(p,q(null))
},Bd.prototype.filter=function(a){var b=this;return Bd(function(c,d){return b.fork(function(b){a(b)&&c(b)},d)})},Bd.prototype.fold=function(a,b){var c=this;return Bd(function(d,e){return c.fork(function(c){return a=b(a,c)},function(){return d(a),e()})})},Bd.prototype.length=function(){return this.map(q(1)).fold(0,m(function(a,b){return a+b}))},Bd.prototype.map=function(a){return this.chain(function(b){return Bd.of(a(b))})},Bd.prototype.merge=function(a){var b=this;return Bd(function(c,d){var e=Bb(d);b.fork(c,e),a.fork(c,e)})},Bd.prototype.pipe=function(a){var b=this;return Bd(function(c,d){return b.fork(function(b){return a.run(b)},d)})},Bd.prototype.scan=function(a,b){var c=this;return Bd(function(d,e){return c.fork(function(c){return a=b(a,c),d(a)},e)})},Bd.prototype.take=function(a){var b=0;return this.chain(function(c){return++b<a?Bd.of(c):Bd.empty()})},Bd.prototype.zip=function(a){var b=this;return Bd(function(c,d){var e=[],f=[],g=Bb(d);b.fork(function(a){f.length>0?c(gd(a,f.shift())):e.push(a)},g),a.fork(function(a){e.length>0?c(gd(e.shift(),a)):f.push(a)},g)})},Bd.prototype.zipWithIndex=function(){var a=0;return this.map(function(b){return gd(b,a++)})},Bd.fromArray=function(a){return Bd(function(b,c){return Db.map(a,b),c()})};var Cd=Xb(Bd),Dd=W("StreamT",["run"]);Bd.StreamT=Mc(Dd),Dd.prototype.fork=function(a,b){return this.run.fork(a,b)};var Ed=Xb(Dd),Fd=Xb(pb),Gd=Xb(qb);Y.unsafeSetValueOf(Bd.prototype),Bd.lens=function(){return Pd(function(a){return Td(function(a){return Bd(a)},function(){return a.fork})})},Db=Db.property("Stream",Bd).property("StreamT",Dd).property("streamOf",pb).property("streamTOf",qb).property("isStream",Cd).property("isStreamT",Ed).property("isStreamOf",Fd).property("isStreamTOf",Gd).method("of",Nb(Bd),function(a){return Bd.of(a)}).method("empty",Nb(Bd),function(){return Bd.empty()}).method("arb",Fd,function(a,b){var c=this.arb(a.type,b-1);return Bd.fromArray(c)}).method("arb",Gd,function(a,b){return Bd.StreamT(this.arb(pb(a.type),b-1))}).method("concat",Cd,function(a,b){return a.chain(b)}).method("extract",Cd,function(a){return a.extract()}).method("fold",Cd,function(a,b){return a.chain(b)}).method("zip",Cd,function(b){return a.zip(b)}).method("ap",Db.liftA2(Jb,Cd,Ed),function(a,b){return a.ap(b)}).method("chain",Db.liftA2(Jb,Cd,Ed),function(a,b){return a.chain(b)}).method("equal",Db.liftA2(Jb,Cd,Ed),function(a,b){return a.equal(b)}).method("map",Db.liftA2(Jb,Cd,Ed),function(a,b){return a.map(b)}).method("shrink",Db.liftA2(Jb,Cd,Ed),function(){return[]});var Hd=W("Identity",["x"]);Hd.of=Hd,Hd.prototype.ap=function(a){return this.chain(function(b){return Db.map(a,b)})},Hd.prototype.concat=function(a){var b=this;return this.map(function(){return Db.concat(b.x,a.x)})},Hd.prototype.chain=function(a){return a(this.x)},Hd.prototype.equal=function(a){return Db.equal(this.x,a.x)},Hd.prototype.map=function(a){return this.chain(function(b){return Hd.of(a(b))})},Hd.prototype.negate=function(){var a=this;return this.map(function(){return Db.negate(a.x)})};var Id=Xb(Hd),Jd=W("IdentityT",["run"]);Hd.IdentityT=Mc(Jd);var Kd=Xb(Jd),Ld=Xb(rb),Md=Xb(sb);Y.unsafeSetValueOf(Hd.prototype),Hd.lens=function(){return Pd(function(a){return Td(function(a){return Hd.of(a)},function(){return a.x})})},Db=Db.property("Identity",Hd).property("IdentityT",Hd.IdentityT).property("identityOf",rb).property("identityTOf",sb).property("isIdentity",Id).property("isIdentityOf",Ld).property("isIdentityT",Kd).property("isIdentityTOf",Md).method("of",Nb(Hd),function(a){return Hd.of(a)}).method("empty",Nb(Hd),function(){return Hd.empty()}).method("arb",Ld,function(a,b){return Hd(this.arb(a.type,b-1))}).method("arb",Md,function(a,b){return Hd.IdentityT(this.arb(rb(a.type),b-1))}).method("concat",Id,function(a,b){return a.concat(b)}).method("negate",Id,function(a){return a.negate()}).method("toArray",Id,function(a){return a.toArray()}).method("ap",Db.liftA2(Jb,Id,Kd),function(a,b){return a.ap(b)}).method("equal",Db.liftA2(Jb,Id,Kd),function(a,b){return a.equal(b)}).method("chain",Db.liftA2(Jb,Id,Kd),function(a,b){return a.chain(b)}).method("map",Db.liftA2(Jb,Id,Kd),function(a,b){return a.map(b)}).method("shrink",Db.liftA2(Jb,Id,Kd),function(){return[]});var Nd=W("IO",["unsafePerform"]);Nd.of=function(a){return Nd(function(){return a})},Nd.prototype.ap=function(a){return this.chain(function(b){return Db.map(a,b)})},Nd.prototype.chain=function(a){var b=this;return Nd(function(){return a(b.unsafePerform()).unsafePerform()})},Nd.prototype.map=function(a){return this.chain(function(b){return Nd.of(a(b))})};var Od=Xb(Nd);Y.unsafeSetValueOf(Nd.prototype),Db=Db.property("IO",Nd).property("isIO",Od).method("of",Nb(Nd),function(a,b){return Nd.of(b)}).method("ap",Od,function(a,b){return a.ap(b)}).method("chain",Od,function(a,b){return a.chain(b)}).method("map",Od,function(a,b){return a.map(b)});var Pd=W("Lens",["run"]),Qd=W("PartialLens",["run"]);Pd.identityLens=function(){return Pd(function(a){return Td(p,function(){return a})})},Pd.objectLens=function(a){return Pd(function(b){return Td(function(c){return k(b,j(a,c))},function(){return b[a]})})},Pd.arrayLens=function(a){return Pd(function(b){return Td(function(c){var d=b.slice();return d[a]=c,d},function(){return b[a]})})},Pd.parse=function(a){return Db.fold(a.split("."),Pd.identityLens(),function(a,b){var c=Db.fold(b.split("["),Pd.identityLens(),function(a,b){var c=parseInt(b,10);return a.andThen(Tb(c)&&N(c)?Pd.arrayLens(c):Vb(b)&&Db.isEmpty(b)?Pd.identityLens():Pd.objectLens(b))});return a.andThen(c)})},Pd.prototype.andThen=function(a){return a.compose(this)},Pd.prototype.compose=function(a){var b=this;return Pd(function(c){var d=a.run(c),e=b.run(d.get());return Td(n(d.set,e.set),e.get)})},Pd.prototype.toPartial=function(){var a=this;return Qd(function(b){return _c.Some(a.run(b))})},Qd.identityLens=function(){return Qd(function(a){return _c.Some(Pd.identity().run(a))})},Qd.objectLens=function(a){var b=Pd.objectLens(a);return Qd(function(c){return a in c?_c.Some(b.run(c)):_c.None})},Qd.arrayLens=function(a){var b=Pd.arrayLens(a);return Qd(function(c){return a>=0&&a<c.length?_c.Some(b.run(c)):_c.None})},Qd.prototype.andThen=function(a){return a.compose(this)},Qd.prototype.compose=function(a){var b=this;return Qd(function(c){return a.run(c).chain(function(a){return b.run(a.get()).map(function(b){return Td(n(a.set,b.set),b.get)})})})};var Rd=Xb(Pd),Sd=Xb(Qd);Y.unsafeSetValueOf(Pd.prototype),Db=Db.property("Lens",Pd).property("isLens",Rd).property("PartialLens",Qd).property("isPartialLens",Sd);var Td=W("Store",["set","get"]);Td.prototype.extract=function(){return this.set(this.get())},Td.prototype.expand=function(a){var b=this;return Td(function(c){return a(Td(b.set,function(){return c}))},this.get)},Td.prototype.map=function(a){return this.expand(function(b){return a(b.extract())})};var Ud=Xb(Td),Vd=Xb(tb);Y.unsafeSetValueOf(Td.prototype),Td.lens=function(){return Pd(function(a){return Td(function(a){return Td(p,q(a))},function(){return a.run})})},Db=Db.property("Store",Td).property("storeOf",tb).property("isStore",Ud).property("isStoreOf",Vd).method("expand",Ud,function(a,b){return a.expand(b)}).method("extract",Ud,function(a){return a.extract()}).method("map",Ud,function(a,b){return a.map(b)}).method("arb",Vd,function(a,b){var c=this.arb(a.type,b-1);return Td(p,q(c))}).method("shrink",Ud,function(){return[]});var Wd=W("Reader",["run"]);Wd.ask=Wd(function(a){return a}),Wd.of=function(a){return Wd(function(){return a})},Wd.empty=function(){return Wd(J)},Wd.prototype.ap=function(a){return this.chain(function(b){return Db.map(a,b)})},Wd.prototype.chain=function(a){var b=this;return Wd(function(c){return a(b.run(c)).run(c)})},Wd.prototype.map=function(a){return this.chain(function(b){return Wd.of(a(b))})};var Xd=Xb(Wd),Yd=W("ReaderT",["run"]);Wd.ReaderT=Mc(Yd);var Zd=Xb(Yd),$d=Xb(ub),_d=Xb(vb);Y.unsafeSetValueOf(Wd.prototype),Wd.lens=function(){return Pd(function(a){return Td(function(a){return Wd(a)},function(){return a.run})})},Db=Db.property("Reader",Wd).property("ReaderT",Yd).property("readerOf",ub).property("readerTOf",vb).property("isReader",Xd).property("isReaderOf",$d).property("isReaderTOf",_d).method("of",Nb(Wd),function(a){return Wd.of(a)}).method("empty",Nb(Wd),function(){return Wd.empty()}).method("arb",$d,function(a,b){return Wd.of(this.arb(a.type,b-1))}).method("arb",_d,function(a,b){return Wd.ReaderT(this.arb(ub(a.type),b-1))}).method("ap",Db.liftA2(Jb,Xd,Zd),function(a,b){return a.ap(b)}).method("chain",Db.liftA2(Jb,Xd,Zd),function(a,b){return a.chain(b)}).method("map",Db.liftA2(Jb,Xd,Zd),function(a,b){return a.map(b)}).method("shrink",Db.liftA2(Jb,Xd,Zd),function(){return[]});var ae=W("Writer",["run"]);ae.of=function(a){return ae(function(){return gd(a,"")})},ae.empty=function(){return ae(function(){return gd(null,"")})},ae.put=function(a){return ae(function(){return a})},ae.prototype.ap=function(a){return this.chain(function(b){return Db.map(a,function(a){return b(a)})})},ae.prototype.chain=function(a){var b=this;return ae(function(c){var d=b.run(c),e=a(d._1).run(d._1);return gd(e._1,Db.concat(d._2,e._2))})},ae.prototype.map=function(a){return this.chain(function(b){return ae.of(a(b))})};var be=Xb(ae),ce=W("WriterT",["run"]);ae.WriterT=Mc(ce);var de=Xb(ce),ee=Xb(wb),fe=Xb(xb);Y.unsafeSetValueOf(ae.prototype),ae.lens=function(){return Pd(function(a){return Td(function(a){return ae(a)},function(){return a.run})})},Db=Db.property("Writer",ae).property("WriterT",ce).property("writerOf",wb).property("writerTOf",xb).property("isWriter",be).property("isWriterT",de).property("isWriterOf",ee).property("isWriterTOf",fe).method("of",Nb(ae),function(a){return ae.of(a)}).method("empty",Nb(ae),function(){return ae.empty()}).method("arb",ee,function(a,b){return ae.of(this.arb(a.type,b-1))}).method("arb",fe,function(a,b){return ae.WriterT(this.arb(wb(a.type),b-1))}).method("ap",Db.liftA2(Jb,be,de),function(a,b){return a.ap(b)}).method("chain",Db.liftA2(Jb,be,de),function(a,b){return a.chain(b)}).method("map",Db.liftA2(Jb,be,de),function(a,b){return a.map(b)}).method("shrink",Db.liftA2(Jb,be,de),function(){return[]});var ge=W("State",["run"]);ge.of=function(a){return ge(function(b){return gd(a,b)})},ge.get=ge(function(a){return gd(a,a)}),ge.modify=function(a){return ge(function(b){return gd(null,a(b))})},ge.put=function(a){return ge.modify(function(){return a})},ge.prototype.ap=function(a){return this.chain(function(b){return Db.map(a,b)})},ge.prototype.chain=function(a){var b=this;return ge(function(c){var d=b.run(c);return a(d._1).run(d._2)})},ge.prototype.evalState=function(a){return this.run(a)._1},ge.prototype.execState=function(a){return this.run(a)._2},ge.prototype.map=function(a){return this.chain(function(b){return ge.of(a(b))})},ge.StateT=function(a){var b=W("StateT",["run"]);return b.lift=function(a){return b(function(){return a})},b.of=function(c){return b(function(b){return a.of(gd(c,b))})},b.get=b(function(b){return a.of(gd(b,b))}),b.modify=function(c){return b(function(b){return a.of(gd(null,c(b)))})},b.put=function(a){return b.modify(function(){return a})},b.prototype.ap=function(a){return this.chain(function(b){return Db.map(a,b)})},b.prototype.chain=function(a){var c=this;return b(function(b){var d=c.run(b);return d.chain(function(b){return a(b._1).run(b._2)})})},b.prototype.evalState=function(a){return this.run(a).chain(function(a){return a._1})},b.prototype.execState=function(a){return this.run(a).chain(function(a){return a._2})},b.prototype.map=function(a){return this.chain(function(c){return b.of(a(c))})},b};var he=Xb(ge),ie=Xb(yb);Y.unsafeSetValueOf(ge.prototype),ge.lens=function(){return Pd(function(a){return Td(function(a){return ge(a)},function(){return a.run})})},Db=Db.property("State",ge).property("isState",he).property("stateOf",yb).property("isStateOf",ie).method("of",Nb(ge),function(a){return ge.of(a)}).method("ap",he,function(a,b){return a.ap(b)}).method("chain",he,function(a,b){return a.chain(b)}).method("map",he,function(a,b){return a.map(b)}).method("arb",ie,function(a,b){return ge.of(this.arb(a.type,b-1))}).method("shrink",he,function(){return[]});var je=X("List",{Cons:["head","tail"],Nil:[]});je.range=m(function(a,b){var c=b-a,d=function(b,e){return e-a>=c?mb(b):nb(function(){return d(je.Cons(e,b),++e)})};return ob(d(je.Nil,a))}),je.fromArray=function(a){for(var b=a.length,c=je.Nil;--b>-1;)c=c.prepend(a[b]);return c},je.prototype.ap=function(a){for(var b=je.Nil,c=this,d=a;c.isNonEmpty;){for(a=d;a.isNonEmpty;)b=b.prepend(c.head(a.head)),a=a.tail;c=c.tail}return b.reverse()},je.prototype.append=function(a){return this.appendAll(je.Cons(a,je.Nil))},je.prototype.appendAll=function(a){for(var b=a,c=this.reverse();c.isNonEmpty;)b=je.Cons(c.head,b),c=c.tail;return b},je.prototype.chain=function(a){return this.fold(je.Nil,function(b,c){return b.appendAll(a(c))})},je.prototype.concat=function(a){return this.appendAll(a)},je.prototype.count=function(a){var b=function(c,d){return c.isEmpty?mb(d):nb(function(){return b(c.tail,a(c.head)?A(d):d)})};return ob(b(this,0))},je.prototype.drop=function(a){var b=function(a,c){return a.isEmpty||1>c?mb(a):nb(function(){return b(a.tail,--c)})};return ob(b(this,a))},je.prototype.dropRight=function(a){if(1>a)return je.Nil;var b=function(a,c,d){return a.isEmpty||1>d?mb(c):nb(function(){return b(a.tail,c.prepend(a.head),--d)})};return ob(b(this,je.Nil,this.size()-a)).reverse()},je.prototype.dropWhile=function(a){var b=function(c,d){return c.isEmpty?mb(0):a(c.head)?nb(function(){return b(c.tail,++d)}):mb(d)},c=ob(b(this,0));return this.drop(c)},je.prototype.exists=function(a){for(var b=this;b.isNonEmpty;){if(a(b.head))return!0;b=b.tail}return!1},je.prototype.extract=function(){return this.match({Cons:function(a){return a},Nil:q(null)})},je.prototype.equal=function(a){for(var b=!0,c=this;c.isNonEmpty&&a.isNonEmpty&&(b=b&&Db.equal(c.head,a.head));)c=c.tail,a=a.tail;return b?c.isEmpty&&a.isEmpty:!1},je.prototype.filter=function(a){var b=function(c,d){return c.isEmpty?mb(d):nb(function(){var e=m(b)(c.tail);return a(c.head)?e(je.Cons(c.head,d)):e(d)})};return ob(b(this,je.Nil)).reverse()},je.prototype.find=function(a){var b=function(c){return c.isEmpty?mb(null):nb(function(){return a(c.head)?mb(c.head):b(c.tail)})};return ob(b(this))},je.prototype.first=function(){return a.head},je.prototype.fold=function(a,b){var c=function(a,d){return a.isEmpty?mb(d):nb(function(){return c(a.tail,b(d,a.head))})};return ob(c(this,a))},je.prototype.get=function(a){for(var b=null,c=-1,d=this;d.isNonEmpty&&a>c;)b=d.head,d=d.tail,c++;return b},je.prototype.last=function(){var a=function(b){return b.isEmpty?mb(null):nb(function(){return b.tail.isEmpty?mb(b.head):a(b.tail)})};return ob(a(this))},je.prototype.map=function(a){return this.fold(je.Nil,function(b,c){return je.Cons(a(c),b)})},je.prototype.partition=function(a){if(this.isEmpty)return gd(this,this);var b=function(c,d,e){return c.isEmpty?mb(gd(d.reverse(),e.reverse())):nb(function(){var f=c.head,g=m(je.Cons)(f);return a(f)?b(c.tail,g(d),e):b(c.tail,d,g(e))})};return ob(b(this,je.Nil,je.Nil))},je.prototype.prepend=function(a){return je.Cons(a,this)},je.prototype.prependAll=function(a){var b=function(a,c){return a.isEmpty?mb(c):nb(function(){return b(a.tail,je.Cons(a.head,c))})};return ob(b(a,this))},je.prototype.reduce=function(a){if(this.isEmpty)return null;var b=function(c,d){return c.isEmpty?mb(d):nb(function(){return b(c.tail,a(d,c.head))})};return ob(b(this.tail,this.head))},je.prototype.reduceRight=function(a){return this.reverse().reduce(a)},je.prototype.reverse=function(){var a=function(b,c){return b.match({Cons:function(d){return nb(function(){return a(b.tail,je.Cons(d,c))})},Nil:function(){return mb(c)}})};return ob(a(this,je.Nil))},je.prototype.size=function(){var a=function(b,c){return b.isEmpty?mb(c):nb(function(){return a(b.tail,++c)})};return ob(a(this,0))},je.prototype.take=function(a){for(var b=je.Nil,c=0,d=this;d.isNonEmpty&&a>c;)b=je.Cons(d.head,b),d=d.tail,c++;return b.reverse()},je.prototype.takeRight=function(a){if(1>a)return this;var b=function(a,c,d){return a.isEmpty||1>d?mb(c):nb(function(){return b(a.tail,c.prepend(a.head),--d)})};return ob(b(this.reverse(),je.Nil,a))},je.prototype.takeWhile=function(a){var b=function(c,d){return c.isEmpty?mb(0):a(c.head)?nb(function(){return b(c.tail,++d)}):mb(d)},c=ob(b(this,0));return this.take(c)},je.prototype.zip=function(a){for(var b=je.Nil,c=this,d=a;c.isNonEmpty&&d.isNonEmpty;)b=je.Cons(gd(c.head,d.head),b),c=c.tail,d=d.tail;return b.reverse()},je.prototype.zipWithIndex=function(){for(var a=je.Nil,b=0,c=this;c.isNonEmpty;)a=je.Cons(gd(c.head,b++),a),c=c.tail;return a.reverse()},je.Cons.prototype.isEmpty=!1,je.Cons.prototype.isNonEmpty=!0,je.Nil.isEmpty=!0,je.Nil.isNonEmpty=!1,je.of=function(a){return je.Cons(a,je.Nil)},je.empty=function(){return je.Nil};var ke=Xb(je),le=W("ListT",["run"]);je.ListT=Mc(le);var me=Xb(le),ne=Xb(zb),oe=Xb(Ab);Y.unsafeSetValueOf(je.prototype),je.lens=function(a){return Pd(function(b){return Td(function(c){for(var d=je.Nil,e=je.Cons.lens(),f=b;f.isNonEmpty;)d=je.Cons(f.head,d),-1===--a&&(d=e.run(d).set(c)),f=f.tail;return d.reverse()},function(){return b.get(a)})})},je.Cons.lens=function(){return Pd(function(a){return Td(function(b){return je.Cons(b,a.tail)},function(){return a.head})})},Db=Db.property("List",je).property("ListT",le).property("Cons",je.Cons).property("Nil",je.Nil).property("isList",ke).property("listOf",zb).property("listTOf",Ab).property("isListOf",ne).property("isListTOf",oe).property("listRange",je.range).method("of",Nb(je),function(a){return je.of(a)}).method("empty",Nb(je),function(){return je.empty()}).method("arb",ne,function(a,b){var c,d=je.Nil,e=this.randomRange(0,b);for(c=0;e>c;c++)d=d.prepend(this.arb(a.type,b-1));return d.reverse()}).method("arb",oe,function(a,b){return je.ListT(this.arb(zb(a.type),b-1))}).method("shrink",ke,function(a){for(var b=[je.Nil],c=a.size();c;)c=Math.floor(c/2),c&&b.push(a.take(c));return b}).method("shrink",me,function(){return[]}).method("concat",ke,function(a,b){return a.concat(b)}).method("count",ke,function(a,b){return a.count(b)}).method("drop",ke,function(a,b){return a.drop(b)}).method("dropRight",ke,function(a,b){return a.dropRight(b)}).method("dropWhile",ke,function(a,b){return a.dropWhile(b)}).method("exists",ke,function(a,b){return a.exists(b)}).method("find",ke,function(a,b){return a.find(b)}).method("first",ke,function(a){return a.first()}).method("fold",ke,function(a,b,c){return a.fold(b,c)}).method("last",ke,function(a){return a.last()}).method("partition",ke,function(a,b){return a.partition(b)}).method("reduce",ke,function(a,b){return a.reduce(b)}).method("reduceRight",ke,function(a,b){return a.reduceRight(b)}).method("take",ke,function(a,b){return a.take(b)}).method("takeRight",ke,function(a,b){return a.takeRight(b)}).method("zip",ke,function(a,b){return a.zip(b)}).method("zipWithIndex",ke,function(a,b){return a.zipWithIndex(b)}).method("toArray",ke,function(a){return a.toArray()}).method("ap",Db.liftA2(Jb,ke,me),function(a,b){return a.ap(b)}).method("chain",Db.liftA2(Jb,ke,me),function(a,b){return a.chain(b)}).method("equal",Db.liftA2(Jb,ke,me),function(a,b){return a.equal(b)}).method("map",Db.liftA2(Jb,ke,me),function(a,b){return a.map(b)});var pe=W("Parser",["run"]);pe.of=function(a){return pe(function(){return id(a,0,Nc.of([]),_c.None)})},pe.empty=function(){return pe(function(a){return id(a,0,Nc.of([]),_c.None)})},pe.fail=function(a){return pe(function(b,c){return id(b,c,Nc.Failure([a]),_c.of([a]))})},pe.success=function(a){return pe(function(b,c){return id(b,c,Nc.of(a),_c.None)})},pe.put=function(a){return pe(function(){return a})},pe.regexp=function(a){return pe(function(b,c,d,e){var f,g=b.slice(c),h=a.exec(g);return h?(f=h[0],id(b,c+f.length,Nc.of([f]),e)):id(b,c,Nc.Failure([[g,c]]),e)})},pe.string=function(a){var b=a.length;return pe(function(c,d,e,f){var g=c.slice(d,d+b);return g===a?id(c,d+b,Nc.of([g]),f):id(c,d,Nc.Failure([[g,d]]),f)})},pe.prototype.chain=function(a){var b=this;return pe(function(c,d,e,f){var g=b.run(c,d,e,f);return g._3.fold(function(){var b=a(g._1,g._2,g._3,g._4);return b.run(g._1,g._2,g._3,g._4)},function(){return id(g._1,g._2,g._3,g._4)})})},pe.prototype.also=function(a){var b=this;return pe(function(c,d,e,f){var g=b.run(c,d,e,f);return g._3.fold(function(b){var c=a(g._1,g._2,g._3,g._4),d=c.run(g._1,g._2,g._3,g._4);return d._3.fold(function(a){var c=Nc.of([Db.concat(b[0],a)]);return id(d._1,d._2,c,d._4)},function(){return d})},function(){return id(g._1,g._2,g._3,g._4)})})},pe.prototype.many=function(){var a=this,b=function(b){return function c(d,e,f){return e.fold(function(){var g=a.run(b,d,e,_c.None);return g._3.fold(function(a){var b=Db.concat(f,a);return c(g._2,g._3,b)},function(){return hd(d,f,g._3.fold(q(g._3),function(a){return g._4.fold(function(a){return Nc.Failure(a)},function(){return Nc.Failure(a)})}))})},function(){return hd(d,f,e)})}};return pe(function(a,c,d){var e=b(a)(c,d,[]),f=e._3.fold(_c.empty,_c.of);return id(a,e._1,Nc.of([e._2]),f)})},pe.prototype.map=function(a){return this.chain(function(b,c,d,e){return d.fold(function(d){return pe.put(id(b,c,Nc.of(a(d)),e))},function(){return pe.put(id(b,c,d,e))})})},pe.prototype.orElse=function(a){var b=this;return pe(function(c,d,e,f){var g=b.run(c,d,e,f);return g._3.fold(function(){return g},function(){var b=a.run(c,d,e,f);return b._3.fold(function(){return id(b._1,b._2,b._3,b._4)},function(){return id(c,d,g._3,g._4)})})})},pe.prototype.skip=function(a){return this.chain(function(b,c,d,e){return a.chain(function(){return pe(function(a,b){return id(a,b,d,e)})})})},pe.prototype.parse=function(a){var b=this.skip(qe).run(a,0,Nc.of([]),_c.None);return b._3.fold(q(b._3),function(){return b._4.fold(function(a){return Nc.Failure(a)},q(b._3))})};var qe=pe(function(a,b,c,d){var e=b<=a.length?c:Nc.Failure(["EOF",b]);return id(a,b,e,d)}),re=Xb(pe);Y.unsafeSetValueOf(pe.prototype),Db=Db.property("Parser",pe).property("isParser",re).method("chain",re,function(a,b){return a.chain(b)}).method("map",re,function(a,b){return a.map(b)});var se=function(){function a(a){return K(a)?Db.flatten(a)[0]:a}function b(a){return K(a)?a[0].slice(1)[0]:[a]}function c(a){return Db.fold(a,[],function(a,b){return Db.concat(a,K(b)?c(b):b)})}function d(){var a={};return function(b){var c;return b in a||(c=I.parse(b).fold(_c.of,_c.empty),a[b]=c),a[b]}}function e(a){return Ub(a)&&a._constructors?Object.keys(a._constructors):[]}function g(a,b){var c=b.isIdent?_c.of(b.ident):_c.empty();return c.match({Some:function(b){return a._constructors[b]},None:q([])})}function h(a,b){return K(b)&&b.length>0?_c.Some(Db.select(a,b)):_c.None}function i(a,b){var c,d;for(d=0;d<a.length;d++)if(c=b(a[d]),c.isSome)return c;return _c.None}function j(c,d,i){var l;return a(d).equal(i)?(l=Db.zip(b(d),c),Db.map(l,function(a){var b,c,d=a._1,i=a._2,l=k.TIdent([f(i)]);return Db.isArray(d)?(b=h(i,g(i,l)),b.fold(function(a){return j(a,[d],l)},function(){return Nc.Failure(["Invalid tokens"])})):d.isWildcard?Nc.of(k.TWildcard):(c=Db.exists(e(i),function(a){return d.isIdent?Db.equal(d.ident[0],a):!1}),c&&d.similar(i)?Nc.of(k.TWildcard):!c&&d.isIdent?Nc.of(i):d.equal(i)||d.similar(i)?Nc.of(i):Nc.Failure(["Invalid token"]))})):[Nc.Failure(["Invalid namespace",a(d),i])]}var k=X("Token",{TString:["string"],TNumber:["number"],TIdent:["ident"],TWildcard:[]}),l=(Xb(k),pe.regexp),n=pe.string,o=l(/^.[^"]*/),r=l(/^"/),s=l(/^[\+\-]?\d+(\.\d+)?/),t=l(/^[a-zA-Z\_][a-zA-Z0-9\_\-\.]*/),u=l(/^\_/),v=l(/^(\s|\,|\s)*/),w=n("("),x=n(")"),y=l(/^\s*/),z=n(""),A="_",B=r.chain(function(){return o.skip(r)}).map(function(a){return k.TString(a)}),C=r.chain(function(){return z.skip(r)}).map(function(){return k.TString([""])}),D=s.map(function(a){return k.TNumber(parseFloat(a,10))}),E=t.map(function(a){return k.TIdent(a)}),F=u.map(function(){return k.TWildcard}),G=E.many().also(function(){return w.skip(y).chain(function(){return H.many().skip(x)})}),H=G.orElse(F).orElse(C).orElse(B).orElse(D).orElse(E).skip(v),I=G.orElse(F).orElse(E),J=m(function(a,b,d){var e,f,g=j(a,d,b),h=Db.chain(g,function(a){return c([a])}),i=Db.exists(h,function(a){return a.isFailure});return i?_c.None:(e=Db.filter(h,function(a){return!a.value.isWildcard}),f=Db.map(e,function(a){return a.extract()}),_c.of(f))}),L=function(a){var b=this,c=d();return function(d){var e=k.TIdent([f(d)]),j=h(d,g(d,e)).getOrElse(q([])),l=i(a,function(a){var d=c(a[0]),f=d.fold(J(j,e),q(d));return f.map(function(c){return a[1].apply(b,c)})});return l.fold(p,function(){var c=b.find(a,function(a){return a[0]===A});if(K(c))return c[1].apply(this,[]);throw new TypeError("No default case found.")})}};return k.prototype.equal=function(a){if(a.wildcard)return!0;var b=this;return b.match({TIdent:function(){var c=Db.last(b.namespace()),d=a.isIdent?Db.last(a.namespace()):[];return Db.equal(c,d)},TNumber:function(b){return a.isNumber&&Db.equal(a.number,b)},TString:function(b){return a.isString&&Db.equal(a.string,b)},TWildcard:q(!0)})},k.prototype.similar=function(a){return a.wildcard?!0:this.match({TIdent:function(b){return Db.equal(b[0],f(a))},TNumber:function(b){return Tb(a)&&Db.equal(b,a)},TString:function(b){return Vb(a)&&Db.equal(b[0],a)},TWildcard:q(!0)})},k.TIdent.prototype.namespace=function(){return this.ident.join("").split(".")},k.TIdent.prototype.isIdent=!0,k.TIdent.prototype.isNumber=!1,k.TIdent.prototype.isString=!1,k.TIdent.prototype.isWildcard=!1,k.TNumber.prototype.isIdent=!1,k.TNumber.prototype.isNumber=!0,k.TNumber.prototype.isString=!1,k.TNumber.prototype.isWildcard=!1,k.TString.prototype.isIdent=!1,k.TString.prototype.isNumber=!1,k.TString.prototype.isString=!0,k.TString.prototype.isWildcard=!1,k.TWildcard.isIdent=!1,k.TWildcard.isNumber=!1,k.TWildcard.isString=!1,k.TWildcard.isWildcard=!0,L}();Db=Db.property("match",se),Db=Db.property("once",Bb).property("asyncOnce",Cb),"undefined"!=typeof exports?exports=module.exports=Db:b.squishy=Db}(this);